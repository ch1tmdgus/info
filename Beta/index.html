<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scroll Example</title>
    <style>
      body,
      html {
        margin: 0;
        padding: 0;
        height: 200vh; /* 높이를 늘려 스크롤을 만들기 위함 */
        font-family: Arial, sans-serif;
        background-color: white;
      }

      .container {
        position: relative;
        text-align: center;
        margin-top: 20vh;
        transition: opacity 0.5s ease;
      }

      h1 {
        font-size: 3rem;
      }

      p {
        font-size: 1.5rem;
        color: gray;
      }

      .box {
        opacity: 0; /* 처음에 투명하게 시작 */
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 800px; /* 가로 크기 */
        height: 600px; /* 세로 크기 */
        background-color: rgba(219, 223, 255, 0.546);
        border-radius: 20px;
        text-align: center;
        padding: 20px;
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2); /* 그림자 추가 */
        transition: opacity 0.3s ease-out; /* 부드러운 페이드 효과 */
      }

      .box h2,
      .box p {
        opacity: 0; /* 처음에 텍스트도 투명하게 시작 */
        transition: opacity 0.3s ease-out; /* 부드러운 페이드 효과 */
      }

      .box.visible h2,
      .box.visible p {
        opacity: 1; /* 텍스트의 페이드인 효과 */
      }
    </style>
  </head>
  <body>
    <div class="container" id="textContainer">
      <h1>Hello</h1>
      <p>스크롤하여 시작</p>
    </div>

    <div class="box" id="boxContainer">
      <h2>나는야 디자이너</h2>
      <p>응애</p>
    </div>

    <script>
      window.addEventListener("scroll", function () {
        const boxContainer = document.getElementById("boxContainer");
        const scrollPosition = window.scrollY;

        // 상자 페이드인 (400px ~ 800px 사이에서 0에서 1로 변화)
        if (scrollPosition > 400 && scrollPosition < 800) {
          const opacityValue = (scrollPosition - 400) / 400; // 0 ~ 1로 변환
          boxContainer.style.opacity = opacityValue;
          
        } else if (scrollPosition >= 800) {
          boxContainer.style.opacity = 1; // 스크롤이 800px 이상일 때 완전히 보이기
        } else {
          boxContainer.style.opacity = 0; // 스크롤이 400px 이하일 때 완전히 숨기기
        }

        if (scrollPosition > 800 && scrollPosition < 1000) {
          const h2OpacityValue = (scrollPosition - 800) / 200; // 0 ~ 1로 변환
          document.querySelector(".box h2").style.opacity = h2OpacityValue;
        } else if (scrollPosition >= 1000) {
          document.querySelector(".box h2").style.opacity = 1; // 스크롤이 1000px 이상일 때 완전히 보이기
        } else {
          document.querySelector(".box h2").style.opacity = 0; // 스크롤이 800px 이하일 때 완전히 숨기기
        }

        // p 텍스트 페이드인 (1000px ~ 1200px 사이에서 0에서 1로 변화)
        if (scrollPosition > 1000 && scrollPosition < 1200) {
          const pOpacityValue = (scrollPosition - 1000) / 200; // 0 ~ 1로 변환
          document.querySelector(".box p").style.opacity = pOpacityValue;
        } else if (scrollPosition >= 1200) {
          document.querySelector(".box p").style.opacity = 1; // 스크롤이 1200px 이상일 때 완전히 보이기
        } else {
          document.querySelector(".box p").style.opacity = 0; // 스크롤이 1000px 이하일 때 완전히 숨기기
        }
      });
    </script>
  </body>
</html>
